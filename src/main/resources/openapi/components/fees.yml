components:
  parameters:
    feesSortParam:
      name: sort
      description: Sorting to apply.
      in: query
      style: form
      explode: true
      required: false
      schema:
        type: array
        items:
          type: string
          pattern: '^(firstName|lastName|month|paymentDate|paid)\|(asc|desc)$'
          example: name|asc
  schemas:
    Fee:
      type: object
      required: [member, month, paid]
      properties:
        member:
          $ref: 'profiles.yml#/components/schemas/MinimalProfile'
        month:
          $ref: '../common/dates.yml#/components/schemas/Month'
        paid:
          type: boolean
        feeType:
          $ref: '#/components/schemas/FeeFeeType'
        transaction:
          $ref: '#/components/schemas/FeeTransaction'
    FeeTransaction:
      type: object
      required: [index, date]
      properties:
        index:
          $ref: '../common/ids.yml#/components/schemas/Id'
        date:
          $ref: '../common/dates.yml#/components/schemas/Date'
    FeeFeeType:
      type: object
      properties:
        number:
          $ref: '../common/ids.yml#/components/schemas/Id'
        name:
          type: string
        amount:
          type: number
          format: float
    FeeCreation:
      type: object
      required: [member, month]
      properties:
        member:
          $ref: '../common/ids.yml#/components/schemas/Id'
        month:
          $ref: '../common/dates.yml#/components/schemas/Month'
    FeePayments:
      type: object
      required: [member, transaction, months]
      properties:
        member:
          $ref: '../common/ids.yml#/components/schemas/Id'
        paymentDate:
          $ref: '../common/dates.yml#/components/schemas/Date'
        months:
          type: array
          items:
            $ref: '../common/dates.yml#/components/schemas/Month'
    FeeChange:
      type: object
      required: [transaction]
      properties:
        transaction:
          $ref: '../common/dates.yml#/components/schemas/Date'
    FeePageResponse:
      allOf:
        - $ref: '../common/responses.yml#/components/schemas/PageResponse'
        - type: object
          properties:
            content:
              type: array
              items:
                $ref: '#/components/schemas/Fee'
    FeeResponse:
      type: object
      properties:
        content:
          $ref: '#/components/schemas/Fee'
    FeesResponse:
      type: object
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/Fee'