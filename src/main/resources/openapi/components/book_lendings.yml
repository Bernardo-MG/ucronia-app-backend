components:
  schemas:
    BookLending:
      type: object
      properties:
        book:
          $ref: '#/components/schemas/BookLendingBook'
        borrower:
          $ref: 'contacts.yml#/components/schemas/MinimalContact'
        lendingDate:
          $ref: '../common/dates.yml#/components/schemas/Date'
        returnDate:
          $ref: '../common/dates.yml#/components/schemas/Date'
          nullable: true
    BookLendingInfo:
      type: object
      properties:
        borrower:
          $ref: 'contacts.yml#/components/schemas/MinimalContact'
        lendingDate:
          $ref: '../common/dates.yml#/components/schemas/Date'
        returnDate:
          $ref: '../common/dates.yml#/components/schemas/Date'
          nullable: true
    BookLendingBook:
      type: object
      required: [number, title]
      properties:
        number:
          $ref: '../common/ids.yml#/components/schemas/Id'
        title:
          $ref: 'books.yml#/components/schemas/BookTitle'
    BookLent:
      type: object
      required: [book, person, lendingDate]
      properties:
        book:
          $ref: '../common/ids.yml#/components/schemas/Id'
        borrower:
          $ref: '../common/ids.yml#/components/schemas/Id'
        lendingDate:
          $ref: '../common/dates.yml#/components/schemas/Date'
    BookReturned:
      type: object
      required: [book, borrower, returnDate]
      properties:
        book:
          $ref: '../common/ids.yml#/components/schemas/Id'
        borrower:
          $ref: '../common/ids.yml#/components/schemas/Id'
        returnDate:
          $ref: '../common/dates.yml#/components/schemas/Date'
    BookLendingPageResponse:
      allOf:
        - $ref: '../common/responses.yml#/components/schemas/PageResponse'
        - type: object
          properties:
            content:
              type: array
              items:
                $ref: '#/components/schemas/BookLending'
    BookLendingResponse:
      type: object
      properties:
        content:
          $ref: '#/components/schemas/BookLending'